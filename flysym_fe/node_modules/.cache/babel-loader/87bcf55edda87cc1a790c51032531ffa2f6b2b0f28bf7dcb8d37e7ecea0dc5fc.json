{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\l-gab\\\\OneDrive\\\\Desktop\\\\EPICODE\\\\Capstone\\\\flysym_fe\\\\src\\\\Component\\\\PagamentoLineaFissa.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { useState, useEffect } from \"react\";\nimport { Button, Form, Alert } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Col, Row, Container } from \"react-bootstrap\";\n\n// Carica Stripe con la tua chiave pubblica\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51R6VsJ1RqIaFvc30z7CiKfkhnoLFlYiVZne5EtwD4PSoNQ1sfi5ppS7VKOutzrzpTZCfJDI8sgoWdG1wUprNQMqt000ii1K6Bm\");\nconst CheckoutForm = ({\n  promozioneDetails,\n  userId,\n  promozioneId,\n  onPaymentSuccess,\n  onPaymentError,\n  plantTree\n}) => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setProcessing(true);\n    onPaymentError(null);\n    if (!stripe || !elements) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      const response = await fetch(\"http://localhost:9090/api/payments/create-payment-intent\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          amount: (promozioneDetails.prezzo + (plantTree ? 2 : 0)) * 100,\n          // Stripe usa centesimi\n          currency: \"eur\",\n          promozioneId,\n          userId,\n          plantTree: plantTree || false\n        })\n      });\n      const {\n        clientSecret\n      } = await response.json();\n\n      // 2. Conferma il pagamento con Stripe\n      const {\n        error,\n        paymentIntent\n      } = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement)\n        }\n      });\n      if (error) {\n        onPaymentError(error.message);\n        setProcessing(false);\n      } else if (paymentIntent.status === \"succeeded\") {\n        onPaymentSuccess();\n        setProcessing(false);\n      }\n    } catch (error) {\n      onPaymentError(error.message);\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formCard\",\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Dettagli Carta di Credito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardElement, {\n        options: {\n          style: {\n            base: {\n              fontSize: \"16px\",\n              color: \"#424770\",\n              \"::placeholder\": {\n                color: \"#aab7c4\"\n              }\n            },\n            invalid: {\n              color: \"#9e2146\"\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      disabled: !stripe || processing,\n      children: processing ? \"Elaborazione...\" : `Paga €${(((promozioneDetails === null || promozioneDetails === void 0 ? void 0 : promozioneDetails.prezzo) || 0) + (plantTree ? 2 : 0)).toFixed(2)}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutForm, \"E03Jqbv+tP9RpKDHeK5n2eyfxr8=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = CheckoutForm;\nconst PagamentoPromozioniLineaFissa = () => {\n  _s2();\n  const navigate = useNavigate();\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n  const [paymentError, setPaymentError] = useState(null);\n  const [userId, setUserId] = useState(\"\");\n  const [promozioneId, setPromozioneId] = useState(localStorage.getItem(\"idPromozioneLineaFissa\") || null);\n  const [promozioneDetails, setPromozioneDetails] = useState(null);\n  const [plantTree, setPlantTree] = useState(false);\n\n  // Recupera l'ID della promozione dal localStorage\n  useEffect(() => {\n    const id = localStorage.getItem(\"idPromozioneLineaFissa\");\n    if (id) {\n      setPromozioneId(id);\n    }\n  }, []);\n\n  // Recupera i dettagli della promozione\n  useEffect(() => {\n    const fetchPromozioneDetails = async () => {\n      if (promozioneId) {\n        try {\n          const token = localStorage.getItem(\"authToken\");\n          const response = await fetch(`http://localhost:9090/promozioniLineaFissa/${promozioneId}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          const data = await response.json();\n          setPromozioneDetails(data);\n        } catch (error) {\n          console.error(\"Errore nel recupero dei dettagli della promozione:\", error);\n        }\n      }\n    };\n    fetchPromozioneDetails();\n  }, [promozioneId]);\n\n  // Funzione per estrarre l'ID utente dal token JWT\n  const getUserNameFromToken = () => {\n    const token = localStorage.getItem(\"authToken\");\n    if (!token) return null;\n    try {\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      return payload.sub || null;\n    } catch (error) {\n      console.error(\"Errore nella decodifica del token:\", error);\n      return null;\n    }\n  };\n  useEffect(() => {\n    const userIdFromToken = getUserNameFromToken();\n    if (userIdFromToken) {\n      setUserId(userIdFromToken);\n    }\n  }, []);\n  const handlePaymentSuccess = async () => {\n    try {\n      const userName = getUserNameFromToken();\n      const token = localStorage.getItem(\"authToken\");\n      if (token) {\n        // Chiamata per associare la promozione all'utente\n        const response = await fetch(`http://localhost:9090/api/auth/user/${userName}/promozioniLineaFissa/${promozioneId}`, {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            plantTree: plantTree\n          })\n        });\n        if (!response.ok) {\n          throw new Error(\"Errore nell'associazione della promozione\");\n        }\n        setPaymentSuccess(true);\n        localStorage.removeItem(\"idPromozioneLineaFissa\");\n\n        // Reindirizza alla pagina di conferma dopo 3 secondi\n        setTimeout(() => navigate(\"/Profilo\"), 3000);\n      }\n    } catch (error) {\n      setPaymentError(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"my-5\",\n          children: \"Completa questi piccoli passaggi per iniziare a navigare con FlySim\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-3\",\n          children: \"Promozione Selezionata\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), promozioneDetails ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nome:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.nome]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Descrizione:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.descrizione]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Minuti inclusi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.minuti]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"GiGa inclusi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.giga, \" Alla velocit\\xE0 della Gigabit\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Prezzo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), \" \\u20AC\", promozioneDetails.prezzo || \"N/D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Caricamento dettagli promozione...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dettagli Pagamento Finale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Nome utente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), \" \", userId || \"Nessun utente loggato\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Promozione Selezionata:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), \" \", (promozioneDetails === null || promozioneDetails === void 0 ? void 0 : promozioneDetails.nome) || \"Nessuna promozione selezionata\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Form.Check, {\n            type: \"checkbox\",\n            label: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Pianta un albero (+\\u20AC2)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: \"FlySim si impegna nella ricostruzione di foreste, partecipa anche tu e un albero avr\\xE0 il tuo nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true),\n            checked: plantTree,\n            onChange: e => setPlantTree(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), promozioneDetails && /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripePromise,\n          children: /*#__PURE__*/_jsxDEV(CheckoutForm, {\n            promozioneDetails: promozioneDetails,\n            userId: userId,\n            promozioneId: promozioneId,\n            onPaymentSuccess: handlePaymentSuccess,\n            onPaymentError: setPaymentError,\n            plantTree: plantTree\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), paymentSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Pagamento effettuato con successo!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"La promozione \", promozioneDetails === null || promozioneDetails === void 0 ? void 0 : promozioneDetails.nome, \" \\xE8 stata associata al tuo account.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), plantTree && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Grazie per aver contribuito a piantare un albero!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), paymentError && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Errore nel pagamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: paymentError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger my-4 mx-5\",\n          children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n            className: \"text-center fw-bold\",\n            children: \"ATTENZIONE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center\",\n            children: \"Non e\\u0300 possibile annullare il pagamento una volta effettuato. Pagando la promozione inizier\\xE0 il periodo di uso di 30 giorni , \\xE8 possibile annullare la promozione in qualsiasi momento , ma \\xE8 comunque utilizzabile per tutto l'arco temporale. Per info e diritti di recesso contattare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s2(PagamentoPromozioniLineaFissa, \"h2KHEfd2c1KDpJZABBwj5ugH2DA=\", false, function () {\n  return [useNavigate];\n});\n_c2 = PagamentoPromozioniLineaFissa;\nexport default PagamentoPromozioniLineaFissa;\nvar _c, _c2;\n$RefreshReg$(_c, \"CheckoutForm\");\n$RefreshReg$(_c2, \"PagamentoPromozioniLineaFissa\");","map":{"version":3,"names":["loadStripe","Elements","CardElement","useStripe","useElements","useState","useEffect","Button","Form","Alert","useNavigate","Col","Row","Container","jsxDEV","_jsxDEV","Fragment","_Fragment","stripePromise","CheckoutForm","promozioneDetails","userId","promozioneId","onPaymentSuccess","onPaymentError","plantTree","_s","stripe","elements","processing","setProcessing","handleSubmit","event","preventDefault","token","localStorage","getItem","response","fetch","method","headers","Authorization","body","JSON","stringify","amount","prezzo","currency","clientSecret","json","error","paymentIntent","confirmCardPayment","payment_method","card","getElement","message","status","onSubmit","children","Group","controlId","className","Label","fileName","_jsxFileName","lineNumber","columnNumber","options","style","base","fontSize","color","invalid","variant","type","disabled","toFixed","_c","PagamentoPromozioniLineaFissa","_s2","navigate","paymentSuccess","setPaymentSuccess","paymentError","setPaymentError","setUserId","setPromozioneId","setPromozioneDetails","setPlantTree","id","fetchPromozioneDetails","data","console","getUserNameFromToken","payload","parse","atob","split","sub","userIdFromToken","handlePaymentSuccess","userName","ok","Error","removeItem","setTimeout","nome","descrizione","minuti","giga","Check","label","checked","onChange","e","target","Heading","_c2","$RefreshReg$"],"sources":["C:/Users/l-gab/OneDrive/Desktop/EPICODE/Capstone/flysym_fe/src/Component/PagamentoLineaFissa.jsx"],"sourcesContent":["import { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button, Form, Alert } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Col, Row, Container } from \"react-bootstrap\";\r\n\r\n// Carica Stripe con la tua chiave pubblica\r\nconst stripePromise = loadStripe(\"pk_test_51R6VsJ1RqIaFvc30z7CiKfkhnoLFlYiVZne5EtwD4PSoNQ1sfi5ppS7VKOutzrzpTZCfJDI8sgoWdG1wUprNQMqt000ii1K6Bm\");\r\n\r\nconst CheckoutForm = ({ promozioneDetails, userId, promozioneId, onPaymentSuccess, onPaymentError, plantTree }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [processing, setProcessing] = useState(false);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n    onPaymentError(null);\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const response = await fetch(\"http://localhost:9090/api/payments/create-payment-intent\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          amount: (promozioneDetails.prezzo + (plantTree ? 2 : 0)) * 100, // Stripe usa centesimi\r\n          currency: \"eur\",\r\n          promozioneId,\r\n          userId,\r\n          plantTree: plantTree || false,\r\n        }),\r\n      });\r\n\r\n      const { clientSecret } = await response.json();\r\n\r\n      // 2. Conferma il pagamento con Stripe\r\n      const { error, paymentIntent } = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      });\r\n\r\n      if (error) {\r\n        onPaymentError(error.message);\r\n        setProcessing(false);\r\n      } else if (paymentIntent.status === \"succeeded\") {\r\n        onPaymentSuccess();\r\n        setProcessing(false);\r\n      }\r\n    } catch (error) {\r\n      onPaymentError(error.message);\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group controlId=\"formCard\" className=\"mb-3\">\r\n        <Form.Label>Dettagli Carta di Credito</Form.Label>\r\n        <CardElement\r\n          options={{\r\n            style: {\r\n              base: {\r\n                fontSize: \"16px\",\r\n                color: \"#424770\",\r\n                \"::placeholder\": {\r\n                  color: \"#aab7c4\",\r\n                },\r\n              },\r\n              invalid: {\r\n                color: \"#9e2146\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Button variant=\"primary\" type=\"submit\" disabled={!stripe || processing}>\r\n        {processing ? \"Elaborazione...\" : `Paga €${((promozioneDetails?.prezzo || 0) + (plantTree ? 2 : 0)).toFixed(2)}`}\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst PagamentoPromozioniLineaFissa = () => {\r\n  const navigate = useNavigate();\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const [paymentError, setPaymentError] = useState(null);\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [promozioneId, setPromozioneId] = useState(localStorage.getItem(\"idPromozioneLineaFissa\") || null);\r\n  const [promozioneDetails, setPromozioneDetails] = useState(null);\r\n  const [plantTree, setPlantTree] = useState(false);\r\n\r\n  // Recupera l'ID della promozione dal localStorage\r\n  useEffect(() => {\r\n    const id = localStorage.getItem(\"idPromozioneLineaFissa\");\r\n    if (id) {\r\n      setPromozioneId(id);\r\n    }\r\n  }, []);\r\n\r\n  // Recupera i dettagli della promozione\r\n  useEffect(() => {\r\n    const fetchPromozioneDetails = async () => {\r\n      if (promozioneId) {\r\n        try {\r\n          const token = localStorage.getItem(\"authToken\");\r\n          const response = await fetch(`http://localhost:9090/promozioniLineaFissa/${promozioneId}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n          const data = await response.json();\r\n          setPromozioneDetails(data);\r\n        } catch (error) {\r\n          console.error(\"Errore nel recupero dei dettagli della promozione:\", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchPromozioneDetails();\r\n  }, [promozioneId]);\r\n\r\n  // Funzione per estrarre l'ID utente dal token JWT\r\n  const getUserNameFromToken = () => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n    if (!token) return null;\r\n\r\n    try {\r\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n      return payload.sub || null;\r\n    } catch (error) {\r\n      console.error(\"Errore nella decodifica del token:\", error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userIdFromToken = getUserNameFromToken();\r\n    if (userIdFromToken) {\r\n      setUserId(userIdFromToken);\r\n    }\r\n  }, []);\r\n\r\n  const handlePaymentSuccess = async () => {\r\n    try {\r\n      const userName = getUserNameFromToken();\r\n      const token = localStorage.getItem(\"authToken\");\r\n\r\n      if (token) {\r\n        // Chiamata per associare la promozione all'utente\r\n        const response = await fetch(`http://localhost:9090/api/auth/user/${userName}/promozioniLineaFissa/${promozioneId}`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            plantTree: plantTree,\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Errore nell'associazione della promozione\");\r\n        }\r\n\r\n        setPaymentSuccess(true);\r\n        localStorage.removeItem(\"idPromozioneLineaFissa\");\r\n\r\n        // Reindirizza alla pagina di conferma dopo 3 secondi\r\n        setTimeout(() => navigate(\"/Profilo\"), 3000);\r\n      }\r\n    } catch (error) {\r\n      setPaymentError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1 className=\"my-5\">Completa questi piccoli passaggi per iniziare a navigare con FlySim</h1>\r\n\r\n          <h2 className=\"mb-3\">Promozione Selezionata</h2>\r\n          {promozioneDetails ? (\r\n            <div className=\"mb-4\">\r\n              <p>\r\n                <strong>Nome:</strong> {promozioneDetails.nome}\r\n              </p>\r\n              <p>\r\n                <strong>Descrizione:</strong> {promozioneDetails.descrizione}\r\n              </p>\r\n              <p>\r\n                <strong>Minuti inclusi:</strong> {promozioneDetails.minuti}\r\n              </p>\r\n              <p>\r\n                <strong>GiGa inclusi:</strong> {promozioneDetails.giga} Alla velocità della Gigabit\r\n              </p>\r\n              <p>\r\n                <strong>Prezzo:</strong> €{promozioneDetails.prezzo || \"N/D\"}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <p>Caricamento dettagli promozione...</p>\r\n          )}\r\n\r\n          <h2>Dettagli Pagamento Finale</h2>\r\n\r\n          <p>\r\n            <strong>Nome utente:</strong> {userId || \"Nessun utente loggato\"}\r\n          </p>\r\n          <p>\r\n            <strong>Promozione Selezionata:</strong> {promozioneDetails?.nome || \"Nessuna promozione selezionata\"}\r\n          </p>\r\n\r\n          <Form.Group className=\"mb-4\">\r\n            <Form.Check\r\n              type=\"checkbox\"\r\n              label={\r\n                <>\r\n                  <strong>Pianta un albero (+€2)</strong>\r\n                  <div className=\"text-muted\">FlySim si impegna nella ricostruzione di foreste, partecipa anche tu e un albero avrà il tuo nome</div>\r\n                </>\r\n              }\r\n              checked={plantTree}\r\n              onChange={(e) => setPlantTree(e.target.checked)}\r\n            />\r\n          </Form.Group>\r\n\r\n          {promozioneDetails && (\r\n            <Elements stripe={stripePromise}>\r\n              <CheckoutForm\r\n                promozioneDetails={promozioneDetails}\r\n                userId={userId}\r\n                promozioneId={promozioneId}\r\n                onPaymentSuccess={handlePaymentSuccess}\r\n                onPaymentError={setPaymentError}\r\n                plantTree={plantTree}\r\n              />\r\n            </Elements>\r\n          )}\r\n\r\n          {paymentSuccess && (\r\n            <Alert variant=\"success\" className=\"mt-3\">\r\n              <h4>Pagamento effettuato con successo!</h4>\r\n              <p>La promozione {promozioneDetails?.nome} è stata associata al tuo account.</p>\r\n              {plantTree && <p>Grazie per aver contribuito a piantare un albero!</p>}\r\n            </Alert>\r\n          )}\r\n\r\n          {paymentError && (\r\n            <Alert variant=\"danger\" className=\"mt-3\">\r\n              <h4>Errore nel pagamento</h4>\r\n              <p>{paymentError}</p>\r\n            </Alert>\r\n          )}\r\n          <Alert variant=\"danger my-4 mx-5\">\r\n            <Alert.Heading className=\"text-center fw-bold\">ATTENZIONE</Alert.Heading>\r\n            <p className=\"text-center\">\r\n              Non è possibile annullare il pagamento una volta effettuato. Pagando la promozione inizierà il periodo di uso di 30 giorni , è possibile annullare\r\n              la promozione in qualsiasi momento , ma è comunque utilizzabile per tutto l'arco temporale. Per info e diritti di recesso contattare\r\n            </p>\r\n          </Alert>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PagamentoPromozioniLineaFissa;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}