{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\l-gab\\\\OneDrive\\\\Desktop\\\\EPICODE\\\\Capstone\\\\flysym_fe\\\\src\\\\Component\\\\Pagamento.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Container, Row, Col, Form, Alert } from \"react-bootstrap\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\n// Carica Stripe con la tua chiave pubblica\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51R6VsJ1RqIaFvc30z7CiKfkhnoLFlYiVZne5EtwD4PSoNQ1sfi5ppS7VKOutzrzpTZCfJDI8sgoWdG1wUprNQMqt000ii1K6Bm\");\nconst CheckoutForm = ({\n  promotionDetails,\n  userId,\n  promotionId,\n  onPaymentSuccess,\n  onPaymentError,\n  plantTree\n}) => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setProcessing(true);\n    onPaymentError(null);\n    if (!stripe || !elements) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      const response = await fetch(\"http://localhost:9090/api/payments/create-payment-intent\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          amount: Math.round((promotionDetails.prezzo + (plantTree ? 2 : 0)) * 100),\n          currency: \"eur\",\n          promotionId,\n          userId,\n          plantTree: plantTree || false\n        })\n      });\n      const {\n        clientSecret\n      } = await response.json();\n      const {\n        error,\n        paymentIntent\n      } = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement)\n        }\n      });\n      if (error) {\n        onPaymentError(error.message);\n        setProcessing(false);\n      } else if (paymentIntent.status === \"succeeded\") {\n        onPaymentSuccess();\n        setProcessing(false);\n      }\n    } catch (error) {\n      onPaymentError(error.message);\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formCard\",\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Dettagli Carta di Credito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardElement, {\n        options: {\n          style: {\n            base: {\n              fontSize: \"16px\",\n              color: \"#424770\",\n              \"::placeholder\": {\n                color: \"#aab7c4\"\n              }\n            },\n            invalid: {\n              color: \"#9e2146\"\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      disabled: !stripe || processing,\n      children: processing ? \"Elaborazione...\" : `Paga â‚¬${(((promotionDetails === null || promotionDetails === void 0 ? void 0 : promotionDetails.prezzo) || 0) + (plantTree ? 2 : 0)).toFixed(2)}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutForm, \"E03Jqbv+tP9RpKDHeK5n2eyfxr8=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = CheckoutForm;\nconst Pagamento = () => {\n  _s2();\n  var _location$state;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n  const [paymentError, setPaymentError] = useState(null);\n  const [userId, setUserId] = useState(\"\");\n  const [promotionId, setPromotionId] = useState(((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.idPromozione) || localStorage.getItem(\"idPromozione\") || null);\n  const [promotionDetails, setPromotionDetails] = useState(null);\n  const [plantTree, setPlantTree] = useState(false);\n\n  // Recupera i dettagli della promozione\n  useEffect(() => {\n    const fetchPromotionDetails = async () => {\n      if (promotionId) {\n        try {\n          const token = localStorage.getItem(\"authToken\");\n          const response = await fetch(`http://localhost:9090/promozioni/${promotionId}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          const data = await response.json();\n          setPromotionDetails(data);\n        } catch (error) {\n          console.error(\"Errore nel recupero dei dettagli della promozione:\", error);\n        }\n      }\n    };\n    fetchPromotionDetails();\n  }, [promotionId]);\n\n  // Funzione per estrarre l'ID utente dal token JWT\n  const getUserNameFromToken = () => {\n    const token = localStorage.getItem(\"authToken\");\n    if (!token) return null;\n    try {\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      return payload.sub || null;\n    } catch (error) {\n      console.error(\"Errore nella decodifica del token:\", error);\n      return null;\n    }\n  };\n  useEffect(() => {\n    const userIdFromToken = getUserNameFromToken();\n    if (userIdFromToken) {\n      setUserId(userIdFromToken);\n    }\n  }, []);\n  const handlePaymentSuccess = async () => {\n    try {\n      const userName = getUserNameFromToken();\n      const token = localStorage.getItem(\"authToken\");\n      if (token) {\n        const response = await fetch(`http://localhost:9090/api/auth/user/${userName}/promozioni/${promotionId}`, {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            plantTree: plantTree\n          })\n        });\n        if (!response.ok) {\n          throw new Error(\"Errore nell'associazione della promozione\");\n        }\n        setPaymentSuccess(true);\n        localStorage.removeItem(\"idPromozione\");\n        setTimeout(() => navigate(\"/Profilo\"), 3000);\n      }\n    } catch (error) {\n      setPaymentError(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"my-5\",\n          children: \"Completa l'acquisto della tua promozione\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-3\",\n          children: \"Dettagli Promozione\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), promotionDetails ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nome:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), \" \", promotionDetails.nome]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Descrizione:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), \" \", promotionDetails.descrizione]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Minuti inclusi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), \" \", promotionDetails.minuti]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Giga inclusi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), \" \", promotionDetails.giga]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Prezzo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), \" \\u20AC\", promotionDetails.prezzo || \"N/D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Caricamento dettagli promozione...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dettagli Pagamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Nome utente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), \" \", userId || \"Nessun utente loggato\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Promozione selezionata:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), \" \", (promotionDetails === null || promotionDetails === void 0 ? void 0 : promotionDetails.nome) || \"Nessuna promozione selezionata\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Form.Check, {\n            type: \"checkbox\",\n            label: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Pianta un albero (+\\u20AC2)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: \"FlySim si impegna nella ricostruzione di foreste, partecipa anche tu e un albero avr\\xE0 il tuo nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true),\n            checked: plantTree,\n            onChange: e => setPlantTree(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), promotionDetails && /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripePromise,\n          children: /*#__PURE__*/_jsxDEV(CheckoutForm, {\n            promotionDetails: promotionDetails,\n            userId: userId,\n            promotionId: promotionId,\n            onPaymentSuccess: handlePaymentSuccess,\n            onPaymentError: setPaymentError,\n            plantTree: plantTree\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), paymentSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Pagamento effettuato con successo!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"La promozione \", promotionDetails === null || promotionDetails === void 0 ? void 0 : promotionDetails.nome, \" \\xE8 stata associata al tuo account.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), plantTree && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Grazie per aver contribuito a piantare un albero!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), paymentError && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Errore nel pagamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: paymentError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger my-4 mx-5\",\n          children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n            className: \"text-center fw-bold\",\n            children: \"ATTENZIONE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center\",\n            children: \"Non \\xE8 possibile annullare il pagamento una volta effettuato. Per info e diritti di recesso contattare il numero tel: 1122334455\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n_s2(Pagamento, \"rQcQweauctrTYrxA1aFt8FuoAy4=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c2 = Pagamento;\nexport default Pagamento;\nvar _c, _c2;\n$RefreshReg$(_c, \"CheckoutForm\");\n$RefreshReg$(_c2, \"Pagamento\");","map":{"version":3,"names":["loadStripe","Elements","CardElement","useStripe","useElements","React","useState","useEffect","Button","Container","Row","Col","Form","Alert","useNavigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","stripePromise","CheckoutForm","promotionDetails","userId","promotionId","onPaymentSuccess","onPaymentError","plantTree","_s","stripe","elements","processing","setProcessing","handleSubmit","event","preventDefault","token","localStorage","getItem","response","fetch","method","headers","Authorization","body","JSON","stringify","amount","Math","round","prezzo","currency","clientSecret","json","error","paymentIntent","confirmCardPayment","payment_method","card","getElement","message","status","onSubmit","children","Group","controlId","className","Label","fileName","_jsxFileName","lineNumber","columnNumber","options","style","base","fontSize","color","invalid","variant","type","disabled","toFixed","_c","Pagamento","_s2","_location$state","navigate","location","paymentSuccess","setPaymentSuccess","paymentError","setPaymentError","setUserId","setPromotionId","state","idPromozione","setPromotionDetails","setPlantTree","fetchPromotionDetails","data","console","getUserNameFromToken","payload","parse","atob","split","sub","userIdFromToken","handlePaymentSuccess","userName","ok","Error","removeItem","setTimeout","nome","descrizione","minuti","giga","Check","label","checked","onChange","e","target","Heading","_c2","$RefreshReg$"],"sources":["C:/Users/l-gab/OneDrive/Desktop/EPICODE/Capstone/flysym_fe/src/Component/Pagamento.jsx"],"sourcesContent":["import { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Button, Container, Row, Col, Form, Alert } from \"react-bootstrap\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\n// Carica Stripe con la tua chiave pubblica\r\nconst stripePromise = loadStripe(\"pk_test_51R6VsJ1RqIaFvc30z7CiKfkhnoLFlYiVZne5EtwD4PSoNQ1sfi5ppS7VKOutzrzpTZCfJDI8sgoWdG1wUprNQMqt000ii1K6Bm\");\r\n\r\nconst CheckoutForm = ({ promotionDetails, userId, promotionId, onPaymentSuccess, onPaymentError, plantTree }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [processing, setProcessing] = useState(false);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n    onPaymentError(null);\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const response = await fetch(\"http://localhost:9090/api/payments/create-payment-intent\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          amount: Math.round((promotionDetails.prezzo + (plantTree ? 2 : 0)) * 100),\r\n          currency: \"eur\",\r\n          promotionId,\r\n          userId,\r\n          plantTree: plantTree || false,\r\n        }),\r\n      });\r\n\r\n      const { clientSecret } = await response.json();\r\n\r\n      const { error, paymentIntent } = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      });\r\n\r\n      if (error) {\r\n        onPaymentError(error.message);\r\n        setProcessing(false);\r\n      } else if (paymentIntent.status === \"succeeded\") {\r\n        onPaymentSuccess();\r\n        setProcessing(false);\r\n      }\r\n    } catch (error) {\r\n      onPaymentError(error.message);\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group controlId=\"formCard\" className=\"mb-3\">\r\n        <Form.Label>Dettagli Carta di Credito</Form.Label>\r\n        <CardElement\r\n          options={{\r\n            style: {\r\n              base: {\r\n                fontSize: \"16px\",\r\n                color: \"#424770\",\r\n                \"::placeholder\": {\r\n                  color: \"#aab7c4\",\r\n                },\r\n              },\r\n              invalid: {\r\n                color: \"#9e2146\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Button variant=\"primary\" type=\"submit\" disabled={!stripe || processing}>\r\n        {processing ? \"Elaborazione...\" : `Paga â‚¬${((promotionDetails?.prezzo || 0) + (plantTree ? 2 : 0)).toFixed(2)}`}\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst Pagamento = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const [paymentError, setPaymentError] = useState(null);\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [promotionId, setPromotionId] = useState(location.state?.idPromozione || localStorage.getItem(\"idPromozione\") || null);\r\n  const [promotionDetails, setPromotionDetails] = useState(null);\r\n  const [plantTree, setPlantTree] = useState(false);\r\n\r\n  // Recupera i dettagli della promozione\r\n  useEffect(() => {\r\n    const fetchPromotionDetails = async () => {\r\n      if (promotionId) {\r\n        try {\r\n          const token = localStorage.getItem(\"authToken\");\r\n          const response = await fetch(`http://localhost:9090/promozioni/${promotionId}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n          const data = await response.json();\r\n          setPromotionDetails(data);\r\n        } catch (error) {\r\n          console.error(\"Errore nel recupero dei dettagli della promozione:\", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchPromotionDetails();\r\n  }, [promotionId]);\r\n\r\n  // Funzione per estrarre l'ID utente dal token JWT\r\n  const getUserNameFromToken = () => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n    if (!token) return null;\r\n\r\n    try {\r\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n      return payload.sub || null;\r\n    } catch (error) {\r\n      console.error(\"Errore nella decodifica del token:\", error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userIdFromToken = getUserNameFromToken();\r\n    if (userIdFromToken) {\r\n      setUserId(userIdFromToken);\r\n    }\r\n  }, []);\r\n\r\n  const handlePaymentSuccess = async () => {\r\n    try {\r\n      const userName = getUserNameFromToken();\r\n      const token = localStorage.getItem(\"authToken\");\r\n\r\n      if (token) {\r\n        const response = await fetch(`http://localhost:9090/api/auth/user/${userName}/promozioni/${promotionId}`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            plantTree: plantTree,\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Errore nell'associazione della promozione\");\r\n        }\r\n\r\n        setPaymentSuccess(true);\r\n        localStorage.removeItem(\"idPromozione\");\r\n\r\n        setTimeout(() => navigate(\"/Profilo\"), 3000);\r\n      }\r\n    } catch (error) {\r\n      setPaymentError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1 className=\"my-5\">Completa l'acquisto della tua promozione</h1>\r\n\r\n          <h2 className=\"mb-3\">Dettagli Promozione</h2>\r\n          {promotionDetails ? (\r\n            <div className=\"mb-4\">\r\n              <p>\r\n                <strong>Nome:</strong> {promotionDetails.nome}\r\n              </p>\r\n              <p>\r\n                <strong>Descrizione:</strong> {promotionDetails.descrizione}\r\n              </p>\r\n              <p>\r\n                <strong>Minuti inclusi:</strong> {promotionDetails.minuti}\r\n              </p>\r\n              <p>\r\n                <strong>Giga inclusi:</strong> {promotionDetails.giga}\r\n              </p>\r\n              <p>\r\n                <strong>Prezzo:</strong> â‚¬{promotionDetails.prezzo || \"N/D\"}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <p>Caricamento dettagli promozione...</p>\r\n          )}\r\n\r\n          <h2>Dettagli Pagamento</h2>\r\n          <p>\r\n            <strong>Nome utente:</strong> {userId || \"Nessun utente loggato\"}\r\n          </p>\r\n          <p>\r\n            <strong>Promozione selezionata:</strong> {promotionDetails?.nome || \"Nessuna promozione selezionata\"}\r\n          </p>\r\n\r\n          <Form.Group className=\"mb-4\">\r\n            <Form.Check\r\n              type=\"checkbox\"\r\n              label={\r\n                <>\r\n                  <strong>Pianta un albero (+â‚¬2)</strong>\r\n                  <div className=\"text-muted\">FlySim si impegna nella ricostruzione di foreste, partecipa anche tu e un albero avrÃ  il tuo nome</div>\r\n                </>\r\n              }\r\n              checked={plantTree}\r\n              onChange={(e) => setPlantTree(e.target.checked)}\r\n            />\r\n          </Form.Group>\r\n\r\n          {promotionDetails && (\r\n            <Elements stripe={stripePromise}>\r\n              <CheckoutForm\r\n                promotionDetails={promotionDetails}\r\n                userId={userId}\r\n                promotionId={promotionId}\r\n                onPaymentSuccess={handlePaymentSuccess}\r\n                onPaymentError={setPaymentError}\r\n                plantTree={plantTree}\r\n              />\r\n            </Elements>\r\n          )}\r\n\r\n          {paymentSuccess && (\r\n            <Alert variant=\"success\" className=\"mt-3\">\r\n              <h4>Pagamento effettuato con successo!</h4>\r\n              <p>La promozione {promotionDetails?.nome} Ã¨ stata associata al tuo account.</p>\r\n              {plantTree && <p>Grazie per aver contribuito a piantare un albero!</p>}\r\n            </Alert>\r\n          )}\r\n\r\n          {paymentError && (\r\n            <Alert variant=\"danger\" className=\"mt-3\">\r\n              <h4>Errore nel pagamento</h4>\r\n              <p>{paymentError}</p>\r\n            </Alert>\r\n          )}\r\n\r\n          <Alert variant=\"danger my-4 mx-5\">\r\n            <Alert.Heading className=\"text-center fw-bold\">ATTENZIONE</Alert.Heading>\r\n            <p className=\"text-center\">\r\n              Non Ã¨ possibile annullare il pagamento una volta effettuato. Per info e diritti di recesso contattare il numero tel: 1122334455\r\n            </p>\r\n          </Alert>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Pagamento;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}