{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\l-gab\\\\OneDrive\\\\Desktop\\\\EPICODE\\\\Capstone\\\\flysym_fe\\\\src\\\\Component\\\\PagamentoLineaFissa.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Carica Stripe con la tua chiave pubblica\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51R6VsJ1RqIaFvc30z7CiKfkhnoLFlYiVZne5EtwD4PSoNQ1sfi5ppS7VKOutzrzpTZCfJDI8sgoWdG1wUprNQMqt000ii1K6Bm\");\nconst CheckoutForm = ({\n  promozioneDetails,\n  userId,\n  promozioneId,\n  onPaymentSuccess,\n  onPaymentError\n}) => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setProcessing(true);\n    onPaymentError(null);\n    if (!stripe || !elements) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      const response = await fetch(\"http://localhost:9090/api/payments/create-payment-intent\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          amount: promozioneDetails.prezzo * 100,\n          // Stripe usa centesimi\n          currency: \"eur\",\n          promozioneId,\n          userId\n        })\n      });\n      const {\n        clientSecret\n      } = await response.json();\n\n      // 2. Conferma il pagamento con Stripe\n      const {\n        error,\n        paymentIntent\n      } = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement)\n        }\n      });\n      if (error) {\n        onPaymentError(error.message);\n        setProcessing(false);\n      } else if (paymentIntent.status === \"succeeded\") {\n        onPaymentSuccess();\n        setProcessing(false);\n      }\n    } catch (error) {\n      onPaymentError(error.message);\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formCard\",\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Dettagli Carta di Credito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardElement, {\n        options: {\n          style: {\n            base: {\n              fontSize: \"16px\",\n              color: \"#424770\",\n              \"::placeholder\": {\n                color: \"#aab7c4\"\n              }\n            },\n            invalid: {\n              color: \"#9e2146\"\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      disabled: !stripe || processing,\n      children: processing ? \"Elaborazione...\" : `Paga â‚¬${(promozioneDetails === null || promozioneDetails === void 0 ? void 0 : promozioneDetails.prezzo) || \"0\"}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutForm, \"E03Jqbv+tP9RpKDHeK5n2eyfxr8=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = CheckoutForm;\nconst PagamentoPromozioniLineaFissa = () => {\n  _s2();\n  const navigate = useNavigate();\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n  const [paymentError, setPaymentError] = useState(null);\n  const [userId, setUserId] = useState(\"\");\n  const [promozioneId, setPromozioneId] = useState(localStorage.getItem(\"idPromozioneLineaFissa\") || null);\n  const [promozioneDetails, setPromozioneDetails] = useState(null);\n\n  // Recupera l'ID della promozione dal localStorage\n  useEffect(() => {\n    const id = localStorage.getItem(\"idPromozioneLineaFissa\");\n    if (id) {\n      setPromozioneId(id);\n    }\n  }, []);\n\n  // Recupera i dettagli della promozione\n  useEffect(() => {\n    const fetchPromozioneDetails = async () => {\n      if (promozioneId) {\n        try {\n          const token = localStorage.getItem(\"authToken\");\n          const response = await fetch(`http://localhost:9090/promozioniLineaFissa/${promozioneId}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          const data = await response.json();\n          setPromozioneDetails(data);\n        } catch (error) {\n          console.error(\"Errore nel recupero dei dettagli della promozione:\", error);\n        }\n      }\n    };\n    fetchPromozioneDetails();\n  }, [promozioneId]);\n\n  // Funzione per estrarre l'ID utente dal token JWT\n  const getUserNameFromToken = () => {\n    const token = localStorage.getItem(\"authToken\");\n    if (!token) return null;\n    try {\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      return payload.sub || null;\n    } catch (error) {\n      console.error(\"Errore nella decodifica del token:\", error);\n      return null;\n    }\n  };\n  useEffect(() => {\n    const userIdFromToken = getUserNameFromToken();\n    if (userIdFromToken) {\n      setUserId(userIdFromToken);\n    }\n  }, []);\n  const handlePaymentSuccess = async () => {\n    try {\n      const userName = getUserNameFromToken();\n      const token = localStorage.getItem(\"authToken\");\n      if (token) {\n        // Chiamata per associare la promozione all'utente\n        const response = await fetch(`http://localhost:9090/api/auth/user/${userName}/promozioniLineaFissa/${promozioneId}`, {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (!response.ok) {\n          throw new Error(\"Errore nell'associazione della promozione\");\n        }\n        setPaymentSuccess(true);\n        localStorage.removeItem(\"idPromozioneLineaFissa\");\n\n        // Reindirizza alla pagina di conferma dopo 3 secondi\n        setTimeout(() => navigate(\"/Profilo\"), 3000);\n      }\n    } catch (error) {\n      setPaymentError(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Pagina di Acquisto Promozione Linea Fissa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dettagli Promozione\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), promozioneDetails ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nome:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.nome]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Descrizione:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.descrizione]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Minuti inclusi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), \" \", promozioneDetails.minuti]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Prezzo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), \" \\u20AC\", promozioneDetails.prezzo || \"N/D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Caricamento dettagli promozione...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dettagli Utente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ID Utente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), \" \", userId || \"Nessun utente loggato\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ID Promozione:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), \" \", promozioneId || \"Nessuna promozione selezionata\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), promozioneDetails && /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripePromise,\n          children: /*#__PURE__*/_jsxDEV(CheckoutForm, {\n            promozioneDetails: promozioneDetails,\n            userId: userId,\n            promozioneId: promozioneId,\n            onPaymentSuccess: handlePaymentSuccess,\n            onPaymentError: setPaymentError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), paymentSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Pagamento effettuato con successo!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"La promozione \", promozioneDetails === null || promozioneDetails === void 0 ? void 0 : promozioneDetails.nome, \" \\xE8 stata associata al tuo account.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), paymentError && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Errore nel pagamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: paymentError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n_s2(PagamentoPromozioniLineaFissa, \"A/w2TxWNsXHkljtt8AQJr2NXXHw=\", false, function () {\n  return [useNavigate];\n});\n_c2 = PagamentoPromozioniLineaFissa;\nexport default PagamentoPromozioniLineaFissa;\nvar _c, _c2;\n$RefreshReg$(_c, \"CheckoutForm\");\n$RefreshReg$(_c2, \"PagamentoPromozioniLineaFissa\");","map":{"version":3,"names":["loadStripe","Elements","CardElement","useStripe","useElements","useState","Button","Form","useNavigate","jsxDEV","_jsxDEV","stripePromise","CheckoutForm","promozioneDetails","userId","promozioneId","onPaymentSuccess","onPaymentError","_s","stripe","elements","processing","setProcessing","handleSubmit","event","preventDefault","token","localStorage","getItem","response","fetch","method","headers","Authorization","body","JSON","stringify","amount","prezzo","currency","clientSecret","json","error","paymentIntent","confirmCardPayment","payment_method","card","getElement","message","status","onSubmit","children","Group","controlId","className","Label","fileName","_jsxFileName","lineNumber","columnNumber","options","style","base","fontSize","color","invalid","variant","type","disabled","_c","PagamentoPromozioniLineaFissa","_s2","navigate","paymentSuccess","setPaymentSuccess","paymentError","setPaymentError","setUserId","setPromozioneId","setPromozioneDetails","useEffect","id","fetchPromozioneDetails","data","console","getUserNameFromToken","payload","parse","atob","split","sub","userIdFromToken","handlePaymentSuccess","userName","ok","Error","removeItem","setTimeout","Container","Row","Col","nome","descrizione","minuti","Alert","_c2","$RefreshReg$"],"sources":["C:/Users/l-gab/OneDrive/Desktop/EPICODE/Capstone/flysym_fe/src/Component/PagamentoLineaFissa.jsx"],"sourcesContent":["import { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport { useState } from \"react\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Carica Stripe con la tua chiave pubblica\r\nconst stripePromise = loadStripe(\"pk_test_51R6VsJ1RqIaFvc30z7CiKfkhnoLFlYiVZne5EtwD4PSoNQ1sfi5ppS7VKOutzrzpTZCfJDI8sgoWdG1wUprNQMqt000ii1K6Bm\");\r\n\r\nconst CheckoutForm = ({ promozioneDetails, userId, promozioneId, onPaymentSuccess, onPaymentError }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [processing, setProcessing] = useState(false);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n    onPaymentError(null);\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const response = await fetch(\"http://localhost:9090/api/payments/create-payment-intent\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          amount: promozioneDetails.prezzo * 100, // Stripe usa centesimi\r\n          currency: \"eur\",\r\n          promozioneId,\r\n          userId,\r\n        }),\r\n      });\r\n\r\n      const { clientSecret } = await response.json();\r\n\r\n      // 2. Conferma il pagamento con Stripe\r\n      const { error, paymentIntent } = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      });\r\n\r\n      if (error) {\r\n        onPaymentError(error.message);\r\n        setProcessing(false);\r\n      } else if (paymentIntent.status === \"succeeded\") {\r\n        onPaymentSuccess();\r\n        setProcessing(false);\r\n      }\r\n    } catch (error) {\r\n      onPaymentError(error.message);\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group controlId=\"formCard\" className=\"mb-3\">\r\n        <Form.Label>Dettagli Carta di Credito</Form.Label>\r\n        <CardElement\r\n          options={{\r\n            style: {\r\n              base: {\r\n                fontSize: \"16px\",\r\n                color: \"#424770\",\r\n                \"::placeholder\": {\r\n                  color: \"#aab7c4\",\r\n                },\r\n              },\r\n              invalid: {\r\n                color: \"#9e2146\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Button variant=\"primary\" type=\"submit\" disabled={!stripe || processing}>\r\n        {processing ? \"Elaborazione...\" : `Paga â‚¬${promozioneDetails?.prezzo || \"0\"}`}\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst PagamentoPromozioniLineaFissa = () => {\r\n  const navigate = useNavigate();\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const [paymentError, setPaymentError] = useState(null);\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [promozioneId, setPromozioneId] = useState(localStorage.getItem(\"idPromozioneLineaFissa\") || null);\r\n  const [promozioneDetails, setPromozioneDetails] = useState(null);\r\n\r\n  // Recupera l'ID della promozione dal localStorage\r\n  useEffect(() => {\r\n    const id = localStorage.getItem(\"idPromozioneLineaFissa\");\r\n    if (id) {\r\n      setPromozioneId(id);\r\n    }\r\n  }, []);\r\n\r\n  // Recupera i dettagli della promozione\r\n  useEffect(() => {\r\n    const fetchPromozioneDetails = async () => {\r\n      if (promozioneId) {\r\n        try {\r\n          const token = localStorage.getItem(\"authToken\");\r\n          const response = await fetch(`http://localhost:9090/promozioniLineaFissa/${promozioneId}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n          const data = await response.json();\r\n          setPromozioneDetails(data);\r\n        } catch (error) {\r\n          console.error(\"Errore nel recupero dei dettagli della promozione:\", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchPromozioneDetails();\r\n  }, [promozioneId]);\r\n\r\n  // Funzione per estrarre l'ID utente dal token JWT\r\n  const getUserNameFromToken = () => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n    if (!token) return null;\r\n\r\n    try {\r\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n      return payload.sub || null;\r\n    } catch (error) {\r\n      console.error(\"Errore nella decodifica del token:\", error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userIdFromToken = getUserNameFromToken();\r\n    if (userIdFromToken) {\r\n      setUserId(userIdFromToken);\r\n    }\r\n  }, []);\r\n\r\n  const handlePaymentSuccess = async () => {\r\n    try {\r\n      const userName = getUserNameFromToken();\r\n      const token = localStorage.getItem(\"authToken\");\r\n\r\n      if (token) {\r\n        // Chiamata per associare la promozione all'utente\r\n        const response = await fetch(`http://localhost:9090/api/auth/user/${userName}/promozioniLineaFissa/${promozioneId}`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Errore nell'associazione della promozione\");\r\n        }\r\n\r\n        setPaymentSuccess(true);\r\n        localStorage.removeItem(\"idPromozioneLineaFissa\");\r\n\r\n        // Reindirizza alla pagina di conferma dopo 3 secondi\r\n        setTimeout(() => navigate(\"/Profilo\"), 3000);\r\n      }\r\n    } catch (error) {\r\n      setPaymentError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1>Pagina di Acquisto Promozione Linea Fissa</h1>\r\n\r\n          <h2>Dettagli Promozione</h2>\r\n          {promozioneDetails ? (\r\n            <div className=\"mb-4\">\r\n              <p>\r\n                <strong>Nome:</strong> {promozioneDetails.nome}\r\n              </p>\r\n              <p>\r\n                <strong>Descrizione:</strong> {promozioneDetails.descrizione}\r\n              </p>\r\n              <p>\r\n                <strong>Minuti inclusi:</strong> {promozioneDetails.minuti}\r\n              </p>\r\n              <p>\r\n                <strong>Prezzo:</strong> â‚¬{promozioneDetails.prezzo || \"N/D\"}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <p>Caricamento dettagli promozione...</p>\r\n          )}\r\n\r\n          <h2>Dettagli Utente</h2>\r\n          <p>\r\n            <strong>ID Utente:</strong> {userId || \"Nessun utente loggato\"}\r\n          </p>\r\n          <p>\r\n            <strong>ID Promozione:</strong> {promozioneId || \"Nessuna promozione selezionata\"}\r\n          </p>\r\n\r\n          {promozioneDetails && (\r\n            <Elements stripe={stripePromise}>\r\n              <CheckoutForm\r\n                promozioneDetails={promozioneDetails}\r\n                userId={userId}\r\n                promozioneId={promozioneId}\r\n                onPaymentSuccess={handlePaymentSuccess}\r\n                onPaymentError={setPaymentError}\r\n              />\r\n            </Elements>\r\n          )}\r\n\r\n          {paymentSuccess && (\r\n            <Alert variant=\"success\" className=\"mt-3\">\r\n              <h4>Pagamento effettuato con successo!</h4>\r\n              <p>La promozione {promozioneDetails?.nome} Ã¨ stata associata al tuo account.</p>\r\n            </Alert>\r\n          )}\r\n\r\n          {paymentError && (\r\n            <Alert variant=\"danger\" className=\"mt-3\">\r\n              <h4>Errore nel pagamento</h4>\r\n              <p>{paymentError}</p>\r\n            </Alert>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PagamentoPromozioniLineaFissa;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}